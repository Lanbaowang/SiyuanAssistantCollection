/* esm.sh - esbuild bundle(content-disposition@0.5.4) es2022 production */
import * as __0$ from "../source/polyfills/path.js";
import * as __1$ from "./buffer.js";
var require=n=>{const e=m=>typeof m.default<"u"?m.default:m,c=m=>Object.assign({},m);switch(n){case"path":return e(__0$);case"buffer":return e(__1$);default:throw new Error("module \""+n+"\" not found");}};
var $=Object.create;var l=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var O=Object.getOwnPropertyNames;var U=Object.getPrototypeOf,Z=Object.prototype.hasOwnProperty;var y=(r=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(r,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):r)(function(r){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+r+'" is not supported')});var w=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),I=(r,e)=>{for(var t in e)l(r,t,{get:e[t],enumerable:!0})},E=(r,e,t,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of O(e))!Z.call(r,n)&&n!==t&&l(r,n,{get:()=>e[n],enumerable:!(a=G(e,n))||a.enumerable});return r},p=(r,e,t)=>(E(r,e,"default"),t&&E(t,e,"default")),g=(r,e,t)=>(t=r!=null?$(U(r)):{},E(e||!r||!r.__esModule?l(t,"default",{value:r,enumerable:!0}):t,r));var b=w((d,_)=>{var c=y("buffer"),u=c.Buffer;function h(r,e){for(var t in r)e[t]=r[t]}u.from&&u.alloc&&u.allocUnsafe&&u.allocUnsafeSlow?_.exports=c:(h(c,d),d.Buffer=v);function v(r,e,t){return u(r,e,t)}v.prototype=Object.create(u.prototype);h(u,v);v.from=function(r,e,t){if(typeof r=="number")throw new TypeError("Argument must not be a number");return u(r,e,t)};v.alloc=function(r,e,t){if(typeof r!="number")throw new TypeError("Argument must be a number");var a=u(r);return e!==void 0?typeof t=="string"?a.fill(e,t):a.fill(e):a.fill(0),a};v.allocUnsafe=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return u(r)};v.allocUnsafeSlow=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return c.SlowBuffer(r)}});var x=w((fe,m)=>{"use strict";m.exports=K;m.exports.parse=k;var A=y("path").basename,L=b().Buffer,B=/[\x00-\x20"'()*,/:;<=>?@[\\\]{}\x7f]/g,N=/%[0-9A-Fa-f]{2}/,z=/%([0-9A-Fa-f]{2})/g,S=/[^\x20-\x7e\xa0-\xff]/g,q=/\\([\u0000-\u007f])/g,F=/([\\"])/g,T=/;[\x09\x20]*([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*=[\x09\x20]*("(?:[\x20!\x23-\x5b\x5d-\x7e\x80-\xff]|\\[\x20-\x7e])*"|[!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*/g,D=/^[\x20-\x7e\x80-\xff]+$/,H=/^[!#$%&'*+.0-9A-Z^_`a-z|~-]+$/,Q=/^([A-Za-z0-9!#$%&+\-^_`{}~]+)'(?:[A-Za-z]{2,3}(?:-[A-Za-z]{3}){0,3}|[A-Za-z]{4,8}|)'((?:%[0-9A-Fa-f]{2}|[A-Za-z0-9!#$&+.^_`|~-])+)$/,j=/^([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*(?:$|;)/;function K(r,e){var t=e||{},a=t.type||"attachment",n=M(r,t.fallback);return V(new R(a,n))}function M(r,e){if(r!==void 0){var t={};if(typeof r!="string")throw new TypeError("filename must be a string");if(e===void 0&&(e=!0),typeof e!="string"&&typeof e!="boolean")throw new TypeError("fallback must be a string or boolean");if(typeof e=="string"&&S.test(e))throw new TypeError("fallback must be ISO-8859-1 string");var a=A(r),n=D.test(a),o=typeof e!="string"?e&&P(a):A(e),f=typeof o=="string"&&o!==a;return(f||!n||N.test(a))&&(t["filename*"]=a),(n||f)&&(t.filename=f?o:a),t}}function V(r){var e=r.parameters,t=r.type;if(!t||typeof t!="string"||!H.test(t))throw new TypeError("invalid type");var a=String(t).toLowerCase();if(e&&typeof e=="object")for(var n,o=Object.keys(e).sort(),f=0;f<o.length;f++){n=o[f];var i=n.substr(-1)==="*"?re(e[n]):ee(e[n]);a+="; "+n+"="+i}return a}function Y(r){var e=Q.exec(r);if(!e)throw new TypeError("invalid extended field value");var t=e[1].toLowerCase(),a=e[2],n,o=a.replace(z,J);switch(t){case"iso-8859-1":n=P(o);break;case"utf-8":n=L.from(o,"binary").toString("utf8");break;default:throw new TypeError("unsupported charset in extended field")}return n}function P(r){return String(r).replace(S,"?")}function k(r){if(!r||typeof r!="string")throw new TypeError("argument string is required");var e=j.exec(r);if(!e)throw new TypeError("invalid type format");var t=e[0].length,a=e[1].toLowerCase(),n,o=[],f={},i;for(t=T.lastIndex=e[0].substr(-1)===";"?t-1:t;e=T.exec(r);){if(e.index!==t)throw new TypeError("invalid parameter format");if(t+=e[0].length,n=e[1].toLowerCase(),i=e[2],o.indexOf(n)!==-1)throw new TypeError("invalid duplicate parameter");if(o.push(n),n.indexOf("*")+1===n.length){n=n.slice(0,-1),i=Y(i),f[n]=i;continue}typeof f[n]!="string"&&(i[0]==='"'&&(i=i.substr(1,i.length-2).replace(q,"$1")),f[n]=i)}if(t!==-1&&t!==r.length)throw new TypeError("invalid parameter format");return new R(a,f)}function J(r,e){return String.fromCharCode(parseInt(e,16))}function W(r){return"%"+String(r).charCodeAt(0).toString(16).toUpperCase()}function ee(r){var e=String(r);return'"'+e.replace(F,"\\$1")+'"'}function re(r){var e=String(r),t=encodeURIComponent(e).replace(B,W);return"UTF-8''"+t}function R(r,e){this.type=r,this.parameters=e}});var s={};I(s,{default:()=>ae,parse:()=>te});var X=g(x());p(s,g(x()));var{parse:te}=X,{default:C,...ne}=X,ae=C!==void 0?C:ne;export{ae as default,te as parse};
/*! Bundled license information:

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

content-disposition/index.js:
  (*!
   * content-disposition
   * Copyright(c) 2014-2017 Douglas Christopher Wilson
   * MIT Licensed
   *)
*/
//# sourceMappingURL=content-disposition.bundle.mjs.map