/* esm.sh - esbuild bundle(stream@0.0.2) es2022 production */
var S=Object.create;var _=Object.defineProperty;var q=Object.getOwnPropertyDescriptor;var A=Object.getOwnPropertyNames;var O=Object.getPrototypeOf,z=Object.prototype.hasOwnProperty;var y=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),B=(t,e)=>{for(var r in e)_(t,r,{get:e[r],enumerable:!0})},h=(t,e,r,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of A(e))!z.call(t,n)&&n!==r&&_(t,n,{get:()=>e[n],enumerable:!(o=q(e,n))||o.enumerable});return t},l=(t,e,r)=>(h(t,e,"default"),r&&h(r,e,"default")),d=(t,e,r)=>(r=t!=null?S(O(t)):{},h(e||!t||!t.__esModule?_(r,"default",{value:t,enumerable:!0}):r,t));var g=y((J,v)=>{v.exports=i;function i(t){if(t)return C(t)}function C(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}i.prototype.on=i.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this};i.prototype.once=function(t,e){var r=this;this._callbacks=this._callbacks||{};function o(){r.off(t,o),e.apply(this,arguments)}return o.fn=e,this.on(t,o),this};i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks[t];if(!r)return this;if(arguments.length==1)return delete this._callbacks[t],this;for(var o,n=0;n<r.length;n++)if(o=r[n],o===e||o.fn===e){r.splice(n,1);break}return this};i.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),r=this._callbacks[t];if(r){r=r.slice(0);for(var o=0,n=r.length;o<n;++o)r[o].apply(this,e)}return this};i.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]};i.prototype.hasListeners=function(t){return!!this.listeners(t).length}});var b=y((K,L)=>{var x=g();function c(){x.call(this)}c.prototype=new x;L.exports=c;c.Stream=c;c.prototype.pipe=function(t,e){var r=this;function o(p){t.writable&&t.write(p)===!1&&r.pause&&r.pause()}r.on("data",o);function n(){r.readable&&r.resume&&r.resume()}t.on("drain",n),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",m),r.on("close",k));var f=!1;function m(){f||(f=!0,t.end())}function k(){f||(f=!0,typeof t.destroy=="function"&&t.destroy())}function u(p){if(a(),!this.hasListeners("error"))throw p}r.on("error",u),t.on("error",u);function a(){r.off("data",o),t.off("drain",n),r.off("end",m),r.off("close",k),r.off("error",u),t.off("error",u),r.off("end",a),r.off("close",a),t.off("end",a),t.off("close",a)}return r.on("end",a),r.on("close",a),t.on("end",a),t.on("close",a),t.emit("pipe",r),t}});var s={};B(s,{Stream:()=>F,default:()=>H,prototype:()=>D});var w=d(b());l(s,d(b()));var{prototype:D,Stream:F}=w,{default:E,...G}=w,H=E!==void 0?E:G;export{F as Stream,H as default,D as prototype};
//# sourceMappingURL=stream.bundle.mjs.map