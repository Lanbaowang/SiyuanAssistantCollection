/* esm.sh - esbuild bundle(xmlbuilder@15.1.1) es2022 production */
var Ve=Object.create;var ft=Object.defineProperty;var Ue=Object.getOwnPropertyDescriptor;var ke=Object.getOwnPropertyNames;var Ke=Object.getPrototypeOf,We=Object.prototype.hasOwnProperty;var P=(h,s)=>()=>(s||h((s={exports:{}}).exports,s),s.exports),_e=(h,s)=>{for(var D in s)ft(h,D,{get:s[D],enumerable:!0})},dt=(h,s,D,w)=>{if(s&&typeof s=="object"||typeof s=="function")for(let i of ke(s))!We.call(h,i)&&i!==D&&ft(h,i,{get:()=>s[i],enumerable:!(w=Ue(s,i))||w.enumerable});return h},K=(h,s,D)=>(dt(h,s,"default"),D&&dt(D,s,"default")),Ot=(h,s,D)=>(D=h!=null?Ve(Ke(h)):{},dt(s||!h||!h.__esModule?ft(D,"default",{value:h,enumerable:!0}):D,h));var S=P((Tt,B)=>{(function(){var h,s,D,w,i,p,a,m={}.hasOwnProperty;h=function(c,...b){var O,o,g,T;if(i(Object.assign))Object.assign.apply(null,arguments);else for(O=0,g=b.length;O<g;O++)if(T=b[O],T!=null)for(o in T)m.call(T,o)&&(c[o]=T[o]);return c},i=function(c){return!!c&&Object.prototype.toString.call(c)==="[object Function]"},p=function(c){var b;return!!c&&((b=typeof c)=="function"||b==="object")},D=function(c){return i(Array.isArray)?Array.isArray(c):Object.prototype.toString.call(c)==="[object Array]"},w=function(c){var b;if(D(c))return!c.length;for(b in c)if(m.call(c,b))return!1;return!0},a=function(c){var b,O;return p(c)&&(O=Object.getPrototypeOf(c))&&(b=O.constructor)&&typeof b=="function"&&b instanceof b&&Function.prototype.toString.call(b)===Function.prototype.toString.call(Object)},s=function(c){return i(c.valueOf)?c.valueOf():c},B.exports.assign=h,B.exports.isFunction=i,B.exports.isObject=p,B.exports.isArray=D,B.exports.isEmpty=w,B.exports.isPlainObject=a,B.exports.getValue=s}).call(Tt)});var pt=P((Nt,It)=>{(function(){var h;It.exports=h=class{hasFeature(D,w){return!0}createDocumentType(D,w,i){throw new Error("This DOM method is not implemented.")}createDocument(D,w,i){throw new Error("This DOM method is not implemented.")}createHTMLDocument(D){throw new Error("This DOM method is not implemented.")}getFeature(D,w){throw new Error("This DOM method is not implemented.")}}}).call(Nt)});var Lt=P((Et,Mt)=>{(function(){var h;Mt.exports=h=class{constructor(){}handleError(D){throw new Error(D)}}}).call(Et)});var xt=P((Ct,Pt)=>{(function(){var h;Pt.exports=h=function(){class s{constructor(w){this.arr=w||[]}item(w){return this.arr[w]||null}contains(w){return this.arr.indexOf(w)!==-1}}return Object.defineProperty(s.prototype,"length",{get:function(){return this.arr.length}}),s}.call(this)}).call(Ct)});var qt=P((Xt,vt)=>{(function(){var h,s,D;s=Lt(),D=xt(),vt.exports=h=function(){class w{constructor(){var p;this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new s,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=p=Object.create(this.defaultParams)}getParameter(p){return this.params.hasOwnProperty(p)?this.params[p]:null}canSetParameter(p,a){return!0}setParameter(p,a){return a!=null?this.params[p]=a:delete this.params[p]}}return Object.defineProperty(w.prototype,"parameterNames",{get:function(){return new D(Object.keys(this.defaultParams))}}),w}.call(this)}).call(Xt)});var q=P((jt,At)=>{(function(){At.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(jt)});var mt=P((Ft,St)=>{(function(){var h,s,D;h=q(),D=F(),St.exports=s=function(){class w{constructor(p,a,m){if(this.parent=p,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),a==null)throw new Error("Missing attribute name. "+this.debugInfo(a));this.name=this.stringify.name(a),this.value=this.stringify.attValue(m),this.type=h.Attribute,this.isId=!1,this.schemaTypeInfo=null}clone(){return Object.create(this)}toString(p){return this.options.writer.attribute(this,this.options.writer.filterOptions(p))}debugInfo(p){return p=p||this.name,p==null?"parent: <"+this.parent.name+">":"attribute: {"+p+"}, parent: <"+this.parent.name+">"}isEqualNode(p){return!(p.namespaceURI!==this.namespaceURI||p.prefix!==this.prefix||p.localName!==this.localName||p.value!==this.value)}}return Object.defineProperty(w.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(w.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(w.prototype,"textContent",{get:function(){return this.value},set:function(i){return this.value=i||""}}),Object.defineProperty(w.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(w.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(w.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(w.prototype,"specified",{get:function(){return!0}}),w}.call(this)}).call(Ft)});var Z=P((Rt,Bt)=>{(function(){var h;Bt.exports=h=function(){class s{constructor(w){this.nodes=w}clone(){return this.nodes=null}getNamedItem(w){return this.nodes[w]}setNamedItem(w){var i;return i=this.nodes[w.nodeName],this.nodes[w.nodeName]=w,i||null}removeNamedItem(w){var i;return i=this.nodes[w],delete this.nodes[w],i||null}item(w){return this.nodes[Object.keys(this.nodes)[w]]||null}getNamedItemNS(w,i){throw new Error("This DOM method is not implemented.")}setNamedItemNS(w){throw new Error("This DOM method is not implemented.")}removeNamedItemNS(w,i){throw new Error("This DOM method is not implemented.")}}return Object.defineProperty(s.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}}),s}.call(this)}).call(Rt)});var Q=P((Vt,Ut)=>{(function(){var h,s,D,w,i,p,a,m,c={}.hasOwnProperty;({isObject:m,isFunction:a,getValue:p}=S()),i=F(),h=q(),s=mt(),w=Z(),Ut.exports=D=function(){class b extends i{constructor(o,g,T){var N,C,x,X;if(super(o),g==null)throw new Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(g),this.type=h.Element,this.attribs={},this.schemaTypeInfo=null,T!=null&&this.attribute(T),o.type===h.Document&&(this.isRoot=!0,this.documentObject=o,o.rootObject=this,o.children)){for(X=o.children,C=0,x=X.length;C<x;C++)if(N=X[C],N.type===h.DocType){N.name=this.name;break}}}clone(){var o,g,T,N;T=Object.create(this),T.isRoot&&(T.documentObject=null),T.attribs={},N=this.attribs;for(g in N)c.call(N,g)&&(o=N[g],T.attribs[g]=o.clone());return T.children=[],this.children.forEach(function(C){var x;return x=C.clone(),x.parent=T,T.children.push(x)}),T}attribute(o,g){var T,N;if(o!=null&&(o=p(o)),m(o))for(T in o)c.call(o,T)&&(N=o[T],this.attribute(T,N));else a(g)&&(g=g.apply()),this.options.keepNullAttributes&&g==null?this.attribs[o]=new s(this,o,""):g!=null&&(this.attribs[o]=new s(this,o,g));return this}removeAttribute(o){var g,T,N;if(o==null)throw new Error("Missing attribute name. "+this.debugInfo());if(o=p(o),Array.isArray(o))for(T=0,N=o.length;T<N;T++)g=o[T],delete this.attribs[g];else delete this.attribs[o];return this}toString(o){return this.options.writer.element(this,this.options.writer.filterOptions(o))}att(o,g){return this.attribute(o,g)}a(o,g){return this.attribute(o,g)}getAttribute(o){return this.attribs.hasOwnProperty(o)?this.attribs[o].value:null}setAttribute(o,g){throw new Error("This DOM method is not implemented."+this.debugInfo())}getAttributeNode(o){return this.attribs.hasOwnProperty(o)?this.attribs[o]:null}setAttributeNode(o){throw new Error("This DOM method is not implemented."+this.debugInfo())}removeAttributeNode(o){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByTagName(o){throw new Error("This DOM method is not implemented."+this.debugInfo())}getAttributeNS(o,g){throw new Error("This DOM method is not implemented."+this.debugInfo())}setAttributeNS(o,g,T){throw new Error("This DOM method is not implemented."+this.debugInfo())}removeAttributeNS(o,g){throw new Error("This DOM method is not implemented."+this.debugInfo())}getAttributeNodeNS(o,g){throw new Error("This DOM method is not implemented."+this.debugInfo())}setAttributeNodeNS(o){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByTagNameNS(o,g){throw new Error("This DOM method is not implemented."+this.debugInfo())}hasAttribute(o){return this.attribs.hasOwnProperty(o)}hasAttributeNS(o,g){throw new Error("This DOM method is not implemented."+this.debugInfo())}setIdAttribute(o,g){return this.attribs.hasOwnProperty(o)?this.attribs[o].isId:g}setIdAttributeNS(o,g,T){throw new Error("This DOM method is not implemented."+this.debugInfo())}setIdAttributeNode(o,g){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByTagName(o){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByTagNameNS(o,g){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByClassName(o){throw new Error("This DOM method is not implemented."+this.debugInfo())}isEqualNode(o){var g,T,N;if(!super.isEqualNode(o)||o.namespaceURI!==this.namespaceURI||o.prefix!==this.prefix||o.localName!==this.localName||o.attribs.length!==this.attribs.length)return!1;for(g=T=0,N=this.attribs.length-1;0<=N?T<=N:T>=N;g=0<=N?++T:--T)if(!this.attribs[g].isEqualNode(o.attribs[g]))return!1;return!0}}return Object.defineProperty(b.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(b.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(b.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(b.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(b.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(b.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(b.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(b.prototype,"attributes",{get:function(){return(!this.attributeMap||!this.attributeMap.nodes)&&(this.attributeMap=new w(this.attribs)),this.attributeMap}}),b}.call(this)}).call(Vt)});var W=P((kt,Kt)=>{(function(){var h,s;s=F(),Kt.exports=h=function(){class D extends s{constructor(i){super(i),this.value=""}clone(){return Object.create(this)}substringData(i,p){throw new Error("This DOM method is not implemented."+this.debugInfo())}appendData(i){throw new Error("This DOM method is not implemented."+this.debugInfo())}insertData(i,p){throw new Error("This DOM method is not implemented."+this.debugInfo())}deleteData(i,p){throw new Error("This DOM method is not implemented."+this.debugInfo())}replaceData(i,p,a){throw new Error("This DOM method is not implemented."+this.debugInfo())}isEqualNode(i){return!(!super.isEqualNode(i)||i.data!==this.data)}}return Object.defineProperty(D.prototype,"data",{get:function(){return this.value},set:function(w){return this.value=w||""}}),Object.defineProperty(D.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(D.prototype,"textContent",{get:function(){return this.value},set:function(w){return this.value=w||""}}),D}.call(this)}).call(kt)});var J=P((Wt,_t)=>{(function(){var h,s,D;h=q(),D=W(),_t.exports=s=class extends D{constructor(i,p){if(super(i),p==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=h.CData,this.value=this.stringify.cdata(p)}clone(){return Object.create(this)}toString(i){return this.options.writer.cdata(this,this.options.writer.filterOptions(i))}}}).call(Wt)});var G=P((Yt,$t)=>{(function(){var h,s,D;h=q(),s=W(),$t.exports=D=class extends s{constructor(i,p){if(super(i),p==null)throw new Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=h.Comment,this.value=this.stringify.comment(p)}clone(){return Object.create(this)}toString(i){return this.options.writer.comment(this,this.options.writer.filterOptions(i))}}}).call(Yt)});var tt=P((zt,Ht)=>{(function(){var h,s,D,w;({isObject:w}=S()),D=F(),h=q(),Ht.exports=s=class extends D{constructor(p,a,m,c){super(p),w(a)&&({version:a,encoding:m,standalone:c}=a),a||(a="1.0"),this.type=h.Declaration,this.version=this.stringify.xmlVersion(a),m!=null&&(this.encoding=this.stringify.xmlEncoding(m)),c!=null&&(this.standalone=this.stringify.xmlStandalone(c))}toString(p){return this.options.writer.declaration(this,this.options.writer.filterOptions(p))}}}).call(zt)});var et=P((Zt,Qt)=>{(function(){var h,s,D;D=F(),h=q(),Qt.exports=s=class extends D{constructor(i,p,a,m,c,b){if(super(i),p==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(a==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(p));if(!m)throw new Error("Missing DTD attribute type. "+this.debugInfo(p));if(!c)throw new Error("Missing DTD attribute default. "+this.debugInfo(p));if(c.indexOf("#")!==0&&(c="#"+c),!c.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(p));if(b&&!c.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(p));this.elementName=this.stringify.name(p),this.type=h.AttributeDeclaration,this.attributeName=this.stringify.name(a),this.attributeType=this.stringify.dtdAttType(m),b&&(this.defaultValue=this.stringify.dtdAttDefault(b)),this.defaultValueType=c}toString(i){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(i))}}}).call(Zt)});var rt=P((Jt,Gt)=>{(function(){var h,s,D,w;({isObject:w}=S()),D=F(),h=q(),Gt.exports=s=function(){class i extends D{constructor(a,m,c,b){if(super(a),c==null)throw new Error("Missing DTD entity name. "+this.debugInfo(c));if(b==null)throw new Error("Missing DTD entity value. "+this.debugInfo(c));if(this.pe=!!m,this.name=this.stringify.name(c),this.type=h.EntityDeclaration,!w(b))this.value=this.stringify.dtdEntityValue(b),this.internal=!0;else{if(!b.pubID&&!b.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(c));if(b.pubID&&!b.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(c));if(this.internal=!1,b.pubID!=null&&(this.pubID=this.stringify.dtdPubID(b.pubID)),b.sysID!=null&&(this.sysID=this.stringify.dtdSysID(b.sysID)),b.nData!=null&&(this.nData=this.stringify.dtdNData(b.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(c))}}toString(a){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(a))}}return Object.defineProperty(i.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(i.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(i.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(i.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(i.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(i.prototype,"xmlVersion",{get:function(){return null}}),i}.call(this)}).call(Jt)});var it=P((te,ee)=>{(function(){var h,s,D;D=F(),h=q(),ee.exports=s=class extends D{constructor(i,p,a){if(super(i),p==null)throw new Error("Missing DTD element name. "+this.debugInfo());a||(a="(#PCDATA)"),Array.isArray(a)&&(a="("+a.join(",")+")"),this.name=this.stringify.name(p),this.type=h.ElementDeclaration,this.value=this.stringify.dtdElementValue(a)}toString(i){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(i))}}}).call(te)});var nt=P((re,ie)=>{(function(){var h,s,D;D=F(),h=q(),ie.exports=s=function(){class w extends D{constructor(p,a,m){if(super(p),a==null)throw new Error("Missing DTD notation name. "+this.debugInfo(a));if(!m.pubID&&!m.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(a));this.name=this.stringify.name(a),this.type=h.NotationDeclaration,m.pubID!=null&&(this.pubID=this.stringify.dtdPubID(m.pubID)),m.sysID!=null&&(this.sysID=this.stringify.dtdSysID(m.sysID))}toString(p){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(p))}}return Object.defineProperty(w.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(w.prototype,"systemId",{get:function(){return this.sysID}}),w}.call(this)}).call(re)});var st=P((ne,se)=>{(function(){var h,s,D,w,i,p,a,m,c;({isObject:c}=S()),m=F(),h=q(),s=et(),w=rt(),D=it(),i=nt(),a=Z(),se.exports=p=function(){class b extends m{constructor(o,g,T){var N,C,x,X;if(super(o),this.type=h.DocType,o.children){for(X=o.children,C=0,x=X.length;C<x;C++)if(N=X[C],N.type===h.Element){this.name=N.name;break}}this.documentObject=o,c(g)&&({pubID:g,sysID:T}=g),T==null&&([T,g]=[g,T]),g!=null&&(this.pubID=this.stringify.dtdPubID(g)),T!=null&&(this.sysID=this.stringify.dtdSysID(T))}element(o,g){var T;return T=new D(this,o,g),this.children.push(T),this}attList(o,g,T,N,C){var x;return x=new s(this,o,g,T,N,C),this.children.push(x),this}entity(o,g){var T;return T=new w(this,!1,o,g),this.children.push(T),this}pEntity(o,g){var T;return T=new w(this,!0,o,g),this.children.push(T),this}notation(o,g){var T;return T=new i(this,o,g),this.children.push(T),this}toString(o){return this.options.writer.docType(this,this.options.writer.filterOptions(o))}ele(o,g){return this.element(o,g)}att(o,g,T,N,C){return this.attList(o,g,T,N,C)}ent(o,g){return this.entity(o,g)}pent(o,g){return this.pEntity(o,g)}not(o,g){return this.notation(o,g)}up(){return this.root()||this.documentObject}isEqualNode(o){return!(!super.isEqualNode(o)||o.name!==this.name||o.publicId!==this.publicId||o.systemId!==this.systemId)}}return Object.defineProperty(b.prototype,"entities",{get:function(){var O,o,g,T,N;for(T={},N=this.children,o=0,g=N.length;o<g;o++)O=N[o],O.type===h.EntityDeclaration&&!O.pe&&(T[O.name]=O);return new a(T)}}),Object.defineProperty(b.prototype,"notations",{get:function(){var O,o,g,T,N;for(T={},N=this.children,o=0,g=N.length;o<g;o++)O=N[o],O.type===h.NotationDeclaration&&(T[O.name]=O);return new a(T)}}),Object.defineProperty(b.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(b.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(b.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),b}.call(this)}).call(ne)});var ht=P((he,oe)=>{(function(){var h,s,D;h=q(),s=F(),oe.exports=D=class extends s{constructor(i,p){if(super(i),p==null)throw new Error("Missing raw text. "+this.debugInfo());this.type=h.Raw,this.value=this.stringify.raw(p)}clone(){return Object.create(this)}toString(i){return this.options.writer.raw(this,this.options.writer.filterOptions(i))}}}).call(he)});var ot=P((ae,ue)=>{(function(){var h,s,D;h=q(),s=W(),ue.exports=D=function(){class w extends s{constructor(p,a){if(super(p),a==null)throw new Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=h.Text,this.value=this.stringify.text(a)}clone(){return Object.create(this)}toString(p){return this.options.writer.text(this,this.options.writer.filterOptions(p))}splitText(p){throw new Error("This DOM method is not implemented."+this.debugInfo())}replaceWholeText(p){throw new Error("This DOM method is not implemented."+this.debugInfo())}}return Object.defineProperty(w.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(w.prototype,"wholeText",{get:function(){var i,p,a;for(a="",p=this.previousSibling;p;)a=p.data+a,p=p.previousSibling;for(a+=this.data,i=this.nextSibling;i;)a=a+i.data,i=i.nextSibling;return a}}),w}.call(this)}).call(ae)});var at=P((le,ce)=>{(function(){var h,s,D;h=q(),s=W(),ce.exports=D=class extends s{constructor(i,p,a){if(super(i),p==null)throw new Error("Missing instruction target. "+this.debugInfo());this.type=h.ProcessingInstruction,this.target=this.stringify.insTarget(p),this.name=this.target,a&&(this.value=this.stringify.insValue(a))}clone(){return Object.create(this)}toString(i){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(i))}isEqualNode(i){return!(!super.isEqualNode(i)||i.target!==this.target)}}}).call(le)});var yt=P((de,fe)=>{(function(){var h,s,D;D=F(),h=q(),fe.exports=s=class extends D{constructor(i){super(i),this.type=h.Dummy}clone(){return Object.create(this)}toString(i){return""}}}).call(de)});var ye=P((pe,me)=>{(function(){var h;me.exports=h=function(){class s{constructor(w){this.nodes=w}clone(){return this.nodes=null}item(w){return this.nodes[w]||null}}return Object.defineProperty(s.prototype,"length",{get:function(){return this.nodes.length||0}}),s}.call(this)}).call(pe)});var De=P((ge,we)=>{(function(){we.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(ge)});var F=P((be,Oe)=>{(function(){var h,s,D,w,i,p,a,m,c,b,O,o,g,T,N,C,x,X,R={}.hasOwnProperty,n=[].splice;({isObject:X,isFunction:x,isEmpty:C,getValue:N}=S()),m=null,D=null,w=null,i=null,p=null,g=null,T=null,o=null,a=null,s=null,O=null,c=null,h=null,Oe.exports=b=function(){class r{constructor(t){this.parent=t,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.value=null,this.children=[],this.baseURI=null,m||(m=Q(),D=J(),w=G(),i=tt(),p=st(),g=ht(),T=ot(),o=at(),a=yt(),s=q(),O=ye(),c=Z(),h=De())}setParent(t){var l,f,e,u,y;for(this.parent=t,t&&(this.options=t.options,this.stringify=t.stringify),u=this.children,y=[],f=0,e=u.length;f<e;f++)l=u[f],y.push(l.setParent(this));return y}element(t,l,f){var e,u,y,I,E,M,j,v,L;if(M=null,l===null&&f==null&&([l,f]=[{},null]),l==null&&(l={}),l=N(l),X(l)||([f,l]=[l,f]),t!=null&&(t=N(t)),Array.isArray(t))for(y=0,j=t.length;y<j;y++)u=t[y],M=this.element(u);else if(x(t))M=this.element(t.apply());else if(X(t)){for(E in t)if(R.call(t,E))if(L=t[E],x(L)&&(L=L.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&E.indexOf(this.stringify.convertAttKey)===0)M=this.attribute(E.substr(this.stringify.convertAttKey.length),L);else if(!this.options.separateArrayItems&&Array.isArray(L)&&C(L))M=this.dummy();else if(X(L)&&C(L))M=this.element(E);else if(!this.options.keepNullNodes&&L==null)M=this.dummy();else if(!this.options.separateArrayItems&&Array.isArray(L))for(I=0,v=L.length;I<v;I++)u=L[I],e={},e[E]=u,M=this.element(e);else X(L)?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&E.indexOf(this.stringify.convertTextKey)===0?M=this.element(L):(M=this.element(E),M.element(L)):M=this.element(E,L)}else!this.options.keepNullNodes&&f===null?M=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&t.indexOf(this.stringify.convertTextKey)===0?M=this.text(f):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&t.indexOf(this.stringify.convertCDataKey)===0?M=this.cdata(f):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&t.indexOf(this.stringify.convertCommentKey)===0?M=this.comment(f):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&t.indexOf(this.stringify.convertRawKey)===0?M=this.raw(f):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&t.indexOf(this.stringify.convertPIKey)===0?M=this.instruction(t.substr(this.stringify.convertPIKey.length),f):M=this.node(t,l,f);if(M==null)throw new Error("Could not create any elements with: "+t+". "+this.debugInfo());return M}insertBefore(t,l,f){var e,u,y,I,E;if(t?.type)return y=t,I=l,y.setParent(this),I?(u=children.indexOf(I),E=children.splice(u),children.push(y),Array.prototype.push.apply(children,E)):children.push(y),y;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(t));return u=this.parent.children.indexOf(this),E=this.parent.children.splice(u),e=this.parent.element(t,l,f),Array.prototype.push.apply(this.parent.children,E),e}insertAfter(t,l,f){var e,u,y;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(t));return u=this.parent.children.indexOf(this),y=this.parent.children.splice(u+1),e=this.parent.element(t,l,f),Array.prototype.push.apply(this.parent.children,y),e}remove(){var t,l;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return t=this.parent.children.indexOf(this),n.apply(this.parent.children,[t,t-t+1].concat(l=[])),this.parent}node(t,l,f){var e;return t!=null&&(t=N(t)),l||(l={}),l=N(l),X(l)||([f,l]=[l,f]),e=new m(this,t,l),f!=null&&e.text(f),this.children.push(e),e}text(t){var l;return X(t)&&this.element(t),l=new T(this,t),this.children.push(l),this}cdata(t){var l;return l=new D(this,t),this.children.push(l),this}comment(t){var l;return l=new w(this,t),this.children.push(l),this}commentBefore(t){var l,f,e;return f=this.parent.children.indexOf(this),e=this.parent.children.splice(f),l=this.parent.comment(t),Array.prototype.push.apply(this.parent.children,e),this}commentAfter(t){var l,f,e;return f=this.parent.children.indexOf(this),e=this.parent.children.splice(f+1),l=this.parent.comment(t),Array.prototype.push.apply(this.parent.children,e),this}raw(t){var l;return l=new g(this,t),this.children.push(l),this}dummy(){var t;return t=new a(this),t}instruction(t,l){var f,e,u,y,I;if(t!=null&&(t=N(t)),l!=null&&(l=N(l)),Array.isArray(t))for(y=0,I=t.length;y<I;y++)f=t[y],this.instruction(f);else if(X(t))for(f in t)R.call(t,f)&&(e=t[f],this.instruction(f,e));else x(l)&&(l=l.apply()),u=new o(this,t,l),this.children.push(u);return this}instructionBefore(t,l){var f,e,u;return e=this.parent.children.indexOf(this),u=this.parent.children.splice(e),f=this.parent.instruction(t,l),Array.prototype.push.apply(this.parent.children,u),this}instructionAfter(t,l){var f,e,u;return e=this.parent.children.indexOf(this),u=this.parent.children.splice(e+1),f=this.parent.instruction(t,l),Array.prototype.push.apply(this.parent.children,u),this}declaration(t,l,f){var e,u;return e=this.document(),u=new i(e,t,l,f),e.children.length===0?e.children.unshift(u):e.children[0].type===s.Declaration?e.children[0]=u:e.children.unshift(u),e.root()||e}dtd(t,l){var f,e,u,y,I,E,M,j,v,L;for(e=this.document(),u=new p(e,t,l),v=e.children,y=I=0,M=v.length;I<M;y=++I)if(f=v[y],f.type===s.DocType)return e.children[y]=u,u;for(L=e.children,y=E=0,j=L.length;E<j;y=++E)if(f=L[y],f.isRoot)return e.children.splice(y,0,u),u;return e.children.push(u),u}up(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent}root(){var t;for(t=this;t;){if(t.type===s.Document)return t.rootObject;if(t.isRoot)return t;t=t.parent}}document(){var t;for(t=this;t;){if(t.type===s.Document)return t;t=t.parent}}end(t){return this.document().end(t)}prev(){var t;if(t=this.parent.children.indexOf(this),t<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[t-1]}next(){var t;if(t=this.parent.children.indexOf(this),t===-1||t===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[t+1]}importDocument(t){var l,f,e,u,y;if(f=t.root().clone(),f.parent=this,f.isRoot=!1,this.children.push(f),this.type===s.Document&&(f.isRoot=!0,f.documentObject=this,this.rootObject=f,this.children)){for(y=this.children,e=0,u=y.length;e<u;e++)if(l=y[e],l.type===s.DocType){l.name=f.name;break}}return this}debugInfo(t){var l,f;return t=t||this.name,t==null&&!((l=this.parent)!=null&&l.name)?"":t==null?"parent: <"+this.parent.name+">":(f=this.parent)!=null&&f.name?"node: <"+t+">, parent: <"+this.parent.name+">":"node: <"+t+">"}ele(t,l,f){return this.element(t,l,f)}nod(t,l,f){return this.node(t,l,f)}txt(t){return this.text(t)}dat(t){return this.cdata(t)}com(t){return this.comment(t)}ins(t,l){return this.instruction(t,l)}doc(){return this.document()}dec(t,l,f){return this.declaration(t,l,f)}e(t,l,f){return this.element(t,l,f)}n(t,l,f){return this.node(t,l,f)}t(t){return this.text(t)}d(t){return this.cdata(t)}c(t){return this.comment(t)}r(t){return this.raw(t)}i(t,l){return this.instruction(t,l)}u(){return this.up()}importXMLBuilder(t){return this.importDocument(t)}attribute(t,l){throw new Error("attribute() applies to element nodes only.")}att(t,l){return this.attribute(t,l)}a(t,l){return this.attribute(t,l)}removeAttribute(t){throw new Error("attribute() applies to element nodes only.")}replaceChild(t,l){throw new Error("This DOM method is not implemented."+this.debugInfo())}removeChild(t){throw new Error("This DOM method is not implemented."+this.debugInfo())}appendChild(t){throw new Error("This DOM method is not implemented."+this.debugInfo())}hasChildNodes(){return this.children.length!==0}cloneNode(t){throw new Error("This DOM method is not implemented."+this.debugInfo())}normalize(){throw new Error("This DOM method is not implemented."+this.debugInfo())}isSupported(t,l){return!0}hasAttributes(){return this.attribs.length!==0}compareDocumentPosition(t){var l,f;return l=this,l===t?0:this.document()!==t.document()?(f=h.Disconnected|h.ImplementationSpecific,Math.random()<.5?f|=h.Preceding:f|=h.Following,f):l.isAncestor(t)?h.Contains|h.Preceding:l.isDescendant(t)?h.Contains|h.Following:l.isPreceding(t)?h.Preceding:h.Following}isSameNode(t){throw new Error("This DOM method is not implemented."+this.debugInfo())}lookupPrefix(t){throw new Error("This DOM method is not implemented."+this.debugInfo())}isDefaultNamespace(t){throw new Error("This DOM method is not implemented."+this.debugInfo())}lookupNamespaceURI(t){throw new Error("This DOM method is not implemented."+this.debugInfo())}isEqualNode(t){var l,f,e;if(t.nodeType!==this.nodeType||t.children.length!==this.children.length)return!1;for(l=f=0,e=this.children.length-1;0<=e?f<=e:f>=e;l=0<=e?++f:--f)if(!this.children[l].isEqualNode(t.children[l]))return!1;return!0}getFeature(t,l){throw new Error("This DOM method is not implemented."+this.debugInfo())}setUserData(t,l,f){throw new Error("This DOM method is not implemented."+this.debugInfo())}getUserData(t){throw new Error("This DOM method is not implemented."+this.debugInfo())}contains(t){return t?t===this||this.isDescendant(t):!1}isDescendant(t){var l,f,e,u,y;for(y=this.children,e=0,u=y.length;e<u;e++)if(l=y[e],t===l||(f=l.isDescendant(t),f))return!0;return!1}isAncestor(t){return t.isDescendant(this)}isPreceding(t){var l,f;return l=this.treePosition(t),f=this.treePosition(this),l===-1||f===-1?!1:l<f}isFollowing(t){var l,f;return l=this.treePosition(t),f=this.treePosition(this),l===-1||f===-1?!1:l>f}treePosition(t){var l,f;return f=0,l=!1,this.foreachTreeNode(this.document(),function(e){if(f++,!l&&e===t)return l=!0}),l?f:-1}foreachTreeNode(t,l){var f,e,u,y,I;for(t||(t=this.document()),y=t.children,e=0,u=y.length;e<u;e++){if(f=y[e],I=l(f))return I;if(I=this.foreachTreeNode(f,l),I)return I}}}return Object.defineProperty(r.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(r.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(r.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(r.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(r.prototype,"childNodes",{get:function(){return(!this.childNodeList||!this.childNodeList.nodes)&&(this.childNodeList=new O(this.children)),this.childNodeList}}),Object.defineProperty(r.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(r.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(r.prototype,"previousSibling",{get:function(){var d;return d=this.parent.children.indexOf(this),this.parent.children[d-1]||null}}),Object.defineProperty(r.prototype,"nextSibling",{get:function(){var d;return d=this.parent.children.indexOf(this),this.parent.children[d+1]||null}}),Object.defineProperty(r.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(r.prototype,"textContent",{get:function(){var d,t,l,f,e;if(this.nodeType===s.Element||this.nodeType===s.DocumentFragment){for(e="",f=this.children,t=0,l=f.length;t<l;t++)d=f[t],d.textContent&&(e+=d.textContent);return e}else return null},set:function(d){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),r}.call(this)}).call(be)});var gt=P((Te,Ne)=>{(function(){var h,s={}.hasOwnProperty;Ne.exports=h=function(){class D{constructor(i){var p,a,m;this.assertLegalChar=this.assertLegalChar.bind(this),this.assertLegalName=this.assertLegalName.bind(this),i||(i={}),this.options=i,this.options.version||(this.options.version="1.0"),a=i.stringify||{};for(p in a)s.call(a,p)&&(m=a[p],this[p]=m)}name(i){return this.options.noValidation?i:this.assertLegalName(""+i||"")}text(i){return this.options.noValidation?i:this.assertLegalChar(this.textEscape(""+i||""))}cdata(i){return this.options.noValidation?i:(i=""+i||"",i=i.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(i))}comment(i){if(this.options.noValidation)return i;if(i=""+i||"",i.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+i);return this.assertLegalChar(i)}raw(i){return this.options.noValidation?i:""+i||""}attValue(i){return this.options.noValidation?i:this.assertLegalChar(this.attEscape(i=""+i||""))}insTarget(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")}insValue(i){if(this.options.noValidation)return i;if(i=""+i||"",i.match(/\?>/))throw new Error("Invalid processing instruction value: "+i);return this.assertLegalChar(i)}xmlVersion(i){if(this.options.noValidation)return i;if(i=""+i||"",!i.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+i);return i}xmlEncoding(i){if(this.options.noValidation)return i;if(i=""+i||"",!i.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+i);return this.assertLegalChar(i)}xmlStandalone(i){return this.options.noValidation?i:i?"yes":"no"}dtdPubID(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")}dtdSysID(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")}dtdElementValue(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")}dtdAttType(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")}dtdAttDefault(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")}dtdEntityValue(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")}dtdNData(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")}assertLegalChar(i){var p,a;if(this.options.noValidation)return i;if(this.options.version==="1.0"){if(p=/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/g,this.options.invalidCharReplacement!==void 0)i=i.replace(p,this.options.invalidCharReplacement);else if(a=i.match(p))throw new Error(`Invalid character in string: ${i} at index ${a.index}`)}else if(this.options.version==="1.1"){if(p=/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/g,this.options.invalidCharReplacement!==void 0)i=i.replace(p,this.options.invalidCharReplacement);else if(a=i.match(p))throw new Error(`Invalid character in string: ${i} at index ${a.index}`)}return i}assertLegalName(i){var p;if(this.options.noValidation)return i;if(i=this.assertLegalChar(i),p=/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/,!i.match(p))throw new Error(`Invalid character in name: ${i}`);return i}textEscape(i){var p;return this.options.noValidation?i:(p=this.options.noDoubleEncoding?/(?!&(lt|gt|amp|apos|quot);)&/g:/&/g,i.replace(p,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;"))}attEscape(i){var p;return this.options.noValidation?i:(p=this.options.noDoubleEncoding?/(?!&(lt|gt|amp|apos|quot);)&/g:/&/g,i.replace(p,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"))}}return D.prototype.convertAttKey="@",D.prototype.convertPIKey="?",D.prototype.convertTextKey="#text",D.prototype.convertCDataKey="#cdata",D.prototype.convertCommentKey="#comment",D.prototype.convertRawKey="#raw",D}.call(this)}).call(Te)});var _=P((Ie,Ee)=>{(function(){Ee.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(Ie)});var wt=P((Me,Le)=>{(function(){var h,s,D,w,i,p,a,m,c,b,O,o,g,T,N,C,x,X={}.hasOwnProperty;({assign:x}=S()),h=q(),c=tt(),b=st(),D=J(),w=G(),o=Q(),T=ht(),N=ot(),g=at(),O=yt(),i=et(),p=it(),a=rt(),m=nt(),s=_(),Le.exports=C=class{constructor(n){var r,d,t;n||(n={}),this.options=n,d=n.writer||{};for(r in d)X.call(d,r)&&(t=d[r],this["_"+r]=this[r],this[r]=t)}filterOptions(n){var r,d,t,l,f,e,u,y,I;return n||(n={}),n=x({},this.options,n),r={writer:this},r.pretty=n.pretty||!1,r.allowEmpty=n.allowEmpty||!1,r.indent=(d=n.indent)!=null?d:"  ",r.newline=(t=n.newline)!=null?t:`
`,r.offset=(l=n.offset)!=null?l:0,r.width=(f=n.width)!=null?f:0,r.dontPrettyTextNodes=(e=(u=n.dontPrettyTextNodes)!=null?u:n.dontprettytextnodes)!=null?e:0,r.spaceBeforeSlash=(y=(I=n.spaceBeforeSlash)!=null?I:n.spacebeforeslash)!=null?y:"",r.spaceBeforeSlash===!0&&(r.spaceBeforeSlash=" "),r.suppressPrettyCount=0,r.user={},r.state=s.None,r}indent(n,r,d){var t;return!r.pretty||r.suppressPrettyCount?"":r.pretty&&(t=(d||0)+r.offset+1,t>0)?new Array(t).join(r.indent):""}endline(n,r,d){return!r.pretty||r.suppressPrettyCount?"":r.newline}attribute(n,r,d){var t;return this.openAttribute(n,r,d),r.pretty&&r.width>0?t=n.name+'="'+n.value+'"':t=" "+n.name+'="'+n.value+'"',this.closeAttribute(n,r,d),t}cdata(n,r,d){var t;return this.openNode(n,r,d),r.state=s.OpenTag,t=this.indent(n,r,d)+"<![CDATA[",r.state=s.InsideTag,t+=n.value,r.state=s.CloseTag,t+="]]>"+this.endline(n,r,d),r.state=s.None,this.closeNode(n,r,d),t}comment(n,r,d){var t;return this.openNode(n,r,d),r.state=s.OpenTag,t=this.indent(n,r,d)+"<!-- ",r.state=s.InsideTag,t+=n.value,r.state=s.CloseTag,t+=" -->"+this.endline(n,r,d),r.state=s.None,this.closeNode(n,r,d),t}declaration(n,r,d){var t;return this.openNode(n,r,d),r.state=s.OpenTag,t=this.indent(n,r,d)+"<?xml",r.state=s.InsideTag,t+=' version="'+n.version+'"',n.encoding!=null&&(t+=' encoding="'+n.encoding+'"'),n.standalone!=null&&(t+=' standalone="'+n.standalone+'"'),r.state=s.CloseTag,t+=r.spaceBeforeSlash+"?>",t+=this.endline(n,r,d),r.state=s.None,this.closeNode(n,r,d),t}docType(n,r,d){var t,l,f,e,u;if(d||(d=0),this.openNode(n,r,d),r.state=s.OpenTag,e=this.indent(n,r,d),e+="<!DOCTYPE "+n.root().name,n.pubID&&n.sysID?e+=' PUBLIC "'+n.pubID+'" "'+n.sysID+'"':n.sysID&&(e+=' SYSTEM "'+n.sysID+'"'),n.children.length>0){for(e+=" [",e+=this.endline(n,r,d),r.state=s.InsideTag,u=n.children,l=0,f=u.length;l<f;l++)t=u[l],e+=this.writeChildNode(t,r,d+1);r.state=s.CloseTag,e+="]"}return r.state=s.CloseTag,e+=r.spaceBeforeSlash+">",e+=this.endline(n,r,d),r.state=s.None,this.closeNode(n,r,d),e}element(n,r,d){var t,l,f,e,u,y,I,E,M,j,v,L,A,Y,$,z,lt,ct,k;if(d||(d=0),L=!1,this.openNode(n,r,d),r.state=s.OpenTag,A=this.indent(n,r,d)+"<"+n.name,r.pretty&&r.width>0){E=A.length,$=n.attribs;for(v in $)X.call($,v)&&(t=$[v],Y=this.attribute(t,r,d),l=Y.length,E+l>r.width?(k=this.indent(n,r,d+1)+Y,A+=this.endline(n,r,d)+k,E=k.length):(k=" "+Y,A+=k,E+=k.length))}else{z=n.attribs;for(v in z)X.call(z,v)&&(t=z[v],A+=this.attribute(t,r,d))}if(e=n.children.length,u=e===0?null:n.children[0],e===0||n.children.every(function(H){return(H.type===h.Text||H.type===h.Raw||H.type===h.CData)&&H.value===""}))r.allowEmpty?(A+=">",r.state=s.CloseTag,A+="</"+n.name+">"+this.endline(n,r,d)):(r.state=s.CloseTag,A+=r.spaceBeforeSlash+"/>"+this.endline(n,r,d));else if(r.pretty&&e===1&&(u.type===h.Text||u.type===h.Raw||u.type===h.CData)&&u.value!=null)A+=">",r.state=s.InsideTag,r.suppressPrettyCount++,L=!0,A+=this.writeChildNode(u,r,d+1),r.suppressPrettyCount--,L=!1,r.state=s.CloseTag,A+="</"+n.name+">"+this.endline(n,r,d);else{if(r.dontPrettyTextNodes){for(lt=n.children,y=0,M=lt.length;y<M;y++)if(f=lt[y],(f.type===h.Text||f.type===h.Raw||f.type===h.CData)&&f.value!=null){r.suppressPrettyCount++,L=!0;break}}for(A+=">"+this.endline(n,r,d),r.state=s.InsideTag,ct=n.children,I=0,j=ct.length;I<j;I++)f=ct[I],A+=this.writeChildNode(f,r,d+1);r.state=s.CloseTag,A+=this.indent(n,r,d)+"</"+n.name+">",L&&r.suppressPrettyCount--,A+=this.endline(n,r,d),r.state=s.None}return this.closeNode(n,r,d),A}writeChildNode(n,r,d){switch(n.type){case h.CData:return this.cdata(n,r,d);case h.Comment:return this.comment(n,r,d);case h.Element:return this.element(n,r,d);case h.Raw:return this.raw(n,r,d);case h.Text:return this.text(n,r,d);case h.ProcessingInstruction:return this.processingInstruction(n,r,d);case h.Dummy:return"";case h.Declaration:return this.declaration(n,r,d);case h.DocType:return this.docType(n,r,d);case h.AttributeDeclaration:return this.dtdAttList(n,r,d);case h.ElementDeclaration:return this.dtdElement(n,r,d);case h.EntityDeclaration:return this.dtdEntity(n,r,d);case h.NotationDeclaration:return this.dtdNotation(n,r,d);default:throw new Error("Unknown XML node type: "+n.constructor.name)}}processingInstruction(n,r,d){var t;return this.openNode(n,r,d),r.state=s.OpenTag,t=this.indent(n,r,d)+"<?",r.state=s.InsideTag,t+=n.target,n.value&&(t+=" "+n.value),r.state=s.CloseTag,t+=r.spaceBeforeSlash+"?>",t+=this.endline(n,r,d),r.state=s.None,this.closeNode(n,r,d),t}raw(n,r,d){var t;return this.openNode(n,r,d),r.state=s.OpenTag,t=this.indent(n,r,d),r.state=s.InsideTag,t+=n.value,r.state=s.CloseTag,t+=this.endline(n,r,d),r.state=s.None,this.closeNode(n,r,d),t}text(n,r,d){var t;return this.openNode(n,r,d),r.state=s.OpenTag,t=this.indent(n,r,d),r.state=s.InsideTag,t+=n.value,r.state=s.CloseTag,t+=this.endline(n,r,d),r.state=s.None,this.closeNode(n,r,d),t}dtdAttList(n,r,d){var t;return this.openNode(n,r,d),r.state=s.OpenTag,t=this.indent(n,r,d)+"<!ATTLIST",r.state=s.InsideTag,t+=" "+n.elementName+" "+n.attributeName+" "+n.attributeType,n.defaultValueType!=="#DEFAULT"&&(t+=" "+n.defaultValueType),n.defaultValue&&(t+=' "'+n.defaultValue+'"'),r.state=s.CloseTag,t+=r.spaceBeforeSlash+">"+this.endline(n,r,d),r.state=s.None,this.closeNode(n,r,d),t}dtdElement(n,r,d){var t;return this.openNode(n,r,d),r.state=s.OpenTag,t=this.indent(n,r,d)+"<!ELEMENT",r.state=s.InsideTag,t+=" "+n.name+" "+n.value,r.state=s.CloseTag,t+=r.spaceBeforeSlash+">"+this.endline(n,r,d),r.state=s.None,this.closeNode(n,r,d),t}dtdEntity(n,r,d){var t;return this.openNode(n,r,d),r.state=s.OpenTag,t=this.indent(n,r,d)+"<!ENTITY",r.state=s.InsideTag,n.pe&&(t+=" %"),t+=" "+n.name,n.value?t+=' "'+n.value+'"':(n.pubID&&n.sysID?t+=' PUBLIC "'+n.pubID+'" "'+n.sysID+'"':n.sysID&&(t+=' SYSTEM "'+n.sysID+'"'),n.nData&&(t+=" NDATA "+n.nData)),r.state=s.CloseTag,t+=r.spaceBeforeSlash+">"+this.endline(n,r,d),r.state=s.None,this.closeNode(n,r,d),t}dtdNotation(n,r,d){var t;return this.openNode(n,r,d),r.state=s.OpenTag,t=this.indent(n,r,d)+"<!NOTATION",r.state=s.InsideTag,t+=" "+n.name,n.pubID&&n.sysID?t+=' PUBLIC "'+n.pubID+'" "'+n.sysID+'"':n.pubID?t+=' PUBLIC "'+n.pubID+'"':n.sysID&&(t+=' SYSTEM "'+n.sysID+'"'),r.state=s.CloseTag,t+=r.spaceBeforeSlash+">"+this.endline(n,r,d),r.state=s.None,this.closeNode(n,r,d),t}openNode(n,r,d){}closeNode(n,r,d){}openAttribute(n,r,d){}closeAttribute(n,r,d){}}}).call(Me)});var ut=P((Ce,Pe)=>{(function(){var h,s;s=wt(),Pe.exports=h=class extends s{constructor(w){super(w)}document(w,i){var p,a,m,c,b;for(i=this.filterOptions(i),c="",b=w.children,a=0,m=b.length;a<m;a++)p=b[a],c+=this.writeChildNode(p,i,0);return i.pretty&&c.slice(-i.newline.length)===i.newline&&(c=c.slice(0,-i.newline.length)),c}}}).call(Ce)});var Dt=P((xe,Xe)=>{(function(){var h,s,D,w,i,p,a,m;({isPlainObject:m}=S()),D=pt(),s=qt(),i=F(),h=q(),a=gt(),p=ut(),Xe.exports=w=function(){class c extends i{constructor(O){super(null),this.name="#document",this.type=h.Document,this.documentURI=null,this.domConfig=new s,O||(O={}),O.writer||(O.writer=new p),this.options=O,this.stringify=new a(O)}end(O){var o;return o={},O?m(O)&&(o=O,O=this.options.writer):O=this.options.writer,O.document(this,O.filterOptions(o))}toString(O){return this.options.writer.document(this,this.options.writer.filterOptions(O))}createElement(O){throw new Error("This DOM method is not implemented."+this.debugInfo())}createDocumentFragment(){throw new Error("This DOM method is not implemented."+this.debugInfo())}createTextNode(O){throw new Error("This DOM method is not implemented."+this.debugInfo())}createComment(O){throw new Error("This DOM method is not implemented."+this.debugInfo())}createCDATASection(O){throw new Error("This DOM method is not implemented."+this.debugInfo())}createProcessingInstruction(O,o){throw new Error("This DOM method is not implemented."+this.debugInfo())}createAttribute(O){throw new Error("This DOM method is not implemented."+this.debugInfo())}createEntityReference(O){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByTagName(O){throw new Error("This DOM method is not implemented."+this.debugInfo())}importNode(O,o){throw new Error("This DOM method is not implemented."+this.debugInfo())}createElementNS(O,o){throw new Error("This DOM method is not implemented."+this.debugInfo())}createAttributeNS(O,o){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByTagNameNS(O,o){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementById(O){throw new Error("This DOM method is not implemented."+this.debugInfo())}adoptNode(O){throw new Error("This DOM method is not implemented."+this.debugInfo())}normalizeDocument(){throw new Error("This DOM method is not implemented."+this.debugInfo())}renameNode(O,o,g){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByClassName(O){throw new Error("This DOM method is not implemented."+this.debugInfo())}createEvent(O){throw new Error("This DOM method is not implemented."+this.debugInfo())}createRange(){throw new Error("This DOM method is not implemented."+this.debugInfo())}createNodeIterator(O,o,g){throw new Error("This DOM method is not implemented."+this.debugInfo())}createTreeWalker(O,o,g){throw new Error("This DOM method is not implemented."+this.debugInfo())}}return Object.defineProperty(c.prototype,"implementation",{value:new D}),Object.defineProperty(c.prototype,"doctype",{get:function(){var b,O,o,g;for(g=this.children,O=0,o=g.length;O<o;O++)if(b=g[O],b.type===h.DocType)return b;return null}}),Object.defineProperty(c.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(c.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(c.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(c.prototype,"xmlEncoding",{get:function(){return this.children.length!==0&&this.children[0].type===h.Declaration?this.children[0].encoding:null}}),Object.defineProperty(c.prototype,"xmlStandalone",{get:function(){return this.children.length!==0&&this.children[0].type===h.Declaration?this.children[0].standalone==="yes":!1}}),Object.defineProperty(c.prototype,"xmlVersion",{get:function(){return this.children.length!==0&&this.children[0].type===h.Declaration?this.children[0].version:"1.0"}}),Object.defineProperty(c.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(c.prototype,"origin",{get:function(){return null}}),Object.defineProperty(c.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(c.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(c.prototype,"contentType",{get:function(){return null}}),c}.call(this)}).call(xe)});var je=P((ve,qe)=>{(function(){var h,s,D,w,i,p,a,m,c,b,O,o,g,T,N,C,x,X,R,n,r,d,t,l={}.hasOwnProperty;({isObject:d,isFunction:r,isPlainObject:t,getValue:n}=S()),h=q(),o=Dt(),T=Q(),w=J(),i=G(),C=ht(),R=ot(),N=at(),b=tt(),O=st(),p=et(),m=rt(),a=it(),c=nt(),D=mt(),X=gt(),x=ut(),s=_(),qe.exports=g=class{constructor(e,u,y){var I;this.name="?xml",this.type=h.Document,e||(e={}),I={},e.writer?t(e.writer)&&(I=e.writer,e.writer=new x):e.writer=new x,this.options=e,this.writer=e.writer,this.writerOptions=this.writer.filterOptions(I),this.stringify=new X(e),this.onDataCallback=u||function(){},this.onEndCallback=y||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}createChildNode(e){var u,y,I,E,M,j,v,L;switch(e.type){case h.CData:this.cdata(e.value);break;case h.Comment:this.comment(e.value);break;case h.Element:I={},v=e.attribs;for(y in v)l.call(v,y)&&(u=v[y],I[y]=u.value);this.node(e.name,I);break;case h.Dummy:this.dummy();break;case h.Raw:this.raw(e.value);break;case h.Text:this.text(e.value);break;case h.ProcessingInstruction:this.instruction(e.target,e.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+e.constructor.name)}for(L=e.children,M=0,j=L.length;M<j;M++)E=L[M],this.createChildNode(E),E.type===h.Element&&this.up();return this}dummy(){return this}node(e,u,y){if(e==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(e));return this.openCurrent(),e=n(e),u==null&&(u={}),u=n(u),d(u)||([y,u]=[u,y]),this.currentNode=new T(this,e,u),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,y!=null&&this.text(y),this}element(e,u,y){var I,E,M,j,v,L;if(this.currentNode&&this.currentNode.type===h.DocType)this.dtdElement(...arguments);else if(Array.isArray(e)||d(e)||r(e))for(j=this.options.noValidation,this.options.noValidation=!0,L=new o(this.options).element("TEMP_ROOT"),L.element(e),this.options.noValidation=j,v=L.children,E=0,M=v.length;E<M;E++)I=v[E],this.createChildNode(I),I.type===h.Element&&this.up();else this.node(e,u,y);return this}attribute(e,u){var y,I;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(e));if(e!=null&&(e=n(e)),d(e))for(y in e)l.call(e,y)&&(I=e[y],this.attribute(y,I));else r(u)&&(u=u.apply()),this.options.keepNullAttributes&&u==null?this.currentNode.attribs[e]=new D(this,e,""):u!=null&&(this.currentNode.attribs[e]=new D(this,e,u));return this}text(e){var u;return this.openCurrent(),u=new R(this,e),this.onData(this.writer.text(u,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}cdata(e){var u;return this.openCurrent(),u=new w(this,e),this.onData(this.writer.cdata(u,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}comment(e){var u;return this.openCurrent(),u=new i(this,e),this.onData(this.writer.comment(u,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}raw(e){var u;return this.openCurrent(),u=new C(this,e),this.onData(this.writer.raw(u,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}instruction(e,u){var y,I,E,M,j;if(this.openCurrent(),e!=null&&(e=n(e)),u!=null&&(u=n(u)),Array.isArray(e))for(y=0,M=e.length;y<M;y++)I=e[y],this.instruction(I);else if(d(e))for(I in e)l.call(e,I)&&(E=e[I],this.instruction(I,E));else r(u)&&(u=u.apply()),j=new N(this,e,u),this.onData(this.writer.processingInstruction(j,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this}declaration(e,u,y){var I;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return I=new b(this,e,u,y),this.onData(this.writer.declaration(I,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}doctype(e,u,y){if(this.openCurrent(),e==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new O(this,u,y),this.currentNode.rootNodeName=e,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this}dtdElement(e,u){var y;return this.openCurrent(),y=new a(this,e,u),this.onData(this.writer.dtdElement(y,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}attList(e,u,y,I,E){var M;return this.openCurrent(),M=new p(this,e,u,y,I,E),this.onData(this.writer.dtdAttList(M,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}entity(e,u){var y;return this.openCurrent(),y=new m(this,!1,e,u),this.onData(this.writer.dtdEntity(y,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}pEntity(e,u){var y;return this.openCurrent(),y=new m(this,!0,e,u),this.onData(this.writer.dtdEntity(y,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}notation(e,u){var y;return this.openCurrent(),y=new c(this,e,u),this.onData(this.writer.dtdNotation(y,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}up(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this}end(){for(;this.currentLevel>=0;)this.up();return this.onEnd()}openCurrent(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)}openNode(e){var u,y,I,E;if(!e.isOpen){if(!this.root&&this.currentLevel===0&&e.type===h.Element&&(this.root=e),y="",e.type===h.Element){this.writerOptions.state=s.OpenTag,y=this.writer.indent(e,this.writerOptions,this.currentLevel)+"<"+e.name,E=e.attribs;for(I in E)l.call(E,I)&&(u=E[I],y+=this.writer.attribute(u,this.writerOptions,this.currentLevel));y+=(e.children?">":"/>")+this.writer.endline(e,this.writerOptions,this.currentLevel),this.writerOptions.state=s.InsideTag}else this.writerOptions.state=s.OpenTag,y=this.writer.indent(e,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+e.rootNodeName,e.pubID&&e.sysID?y+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(y+=' SYSTEM "'+e.sysID+'"'),e.children?(y+=" [",this.writerOptions.state=s.InsideTag):(this.writerOptions.state=s.CloseTag,y+=">"),y+=this.writer.endline(e,this.writerOptions,this.currentLevel);return this.onData(y,this.currentLevel),e.isOpen=!0}}closeNode(e){var u;if(!e.isClosed)return u="",this.writerOptions.state=s.CloseTag,e.type===h.Element?u=this.writer.indent(e,this.writerOptions,this.currentLevel)+"</"+e.name+">"+this.writer.endline(e,this.writerOptions,this.currentLevel):u=this.writer.indent(e,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(e,this.writerOptions,this.currentLevel),this.writerOptions.state=s.None,this.onData(u,this.currentLevel),e.isClosed=!0}onData(e,u){return this.documentStarted=!0,this.onDataCallback(e,u+1)}onEnd(){return this.documentCompleted=!0,this.onEndCallback()}debugInfo(e){return e==null?"":"node: <"+e+">"}ele(){return this.element(...arguments)}nod(e,u,y){return this.node(e,u,y)}txt(e){return this.text(e)}dat(e){return this.cdata(e)}com(e){return this.comment(e)}ins(e,u){return this.instruction(e,u)}dec(e,u,y){return this.declaration(e,u,y)}dtd(e,u,y){return this.doctype(e,u,y)}e(e,u,y){return this.element(e,u,y)}n(e,u,y){return this.node(e,u,y)}t(e){return this.text(e)}d(e){return this.cdata(e)}c(e){return this.comment(e)}r(e){return this.raw(e)}i(e,u){return this.instruction(e,u)}att(){return this.currentNode&&this.currentNode.type===h.DocType?this.attList(...arguments):this.attribute(...arguments)}a(){return this.currentNode&&this.currentNode.type===h.DocType?this.attList(...arguments):this.attribute(...arguments)}ent(e,u){return this.entity(e,u)}pent(e,u){return this.pEntity(e,u)}not(e,u){return this.notation(e,u)}}}).call(ve)});var Se=P((Ae,Fe)=>{(function(){var h,s,D,w,i={}.hasOwnProperty;h=q(),w=wt(),s=_(),Fe.exports=D=class extends w{constructor(a,m){super(m),this.stream=a}endline(a,m,c){return a.isLastRootNode&&m.state===s.CloseTag?"":super.endline(a,m,c)}document(a,m){var c,b,O,o,g,T,N,C,x;for(N=a.children,b=O=0,g=N.length;O<g;b=++O)c=N[b],c.isLastRootNode=b===a.children.length-1;for(m=this.filterOptions(m),C=a.children,x=[],o=0,T=C.length;o<T;o++)c=C[o],x.push(this.writeChildNode(c,m,0));return x}cdata(a,m,c){return this.stream.write(super.cdata(a,m,c))}comment(a,m,c){return this.stream.write(super.comment(a,m,c))}declaration(a,m,c){return this.stream.write(super.declaration(a,m,c))}docType(a,m,c){var b,O,o,g;if(c||(c=0),this.openNode(a,m,c),m.state=s.OpenTag,this.stream.write(this.indent(a,m,c)),this.stream.write("<!DOCTYPE "+a.root().name),a.pubID&&a.sysID?this.stream.write(' PUBLIC "'+a.pubID+'" "'+a.sysID+'"'):a.sysID&&this.stream.write(' SYSTEM "'+a.sysID+'"'),a.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(a,m,c)),m.state=s.InsideTag,g=a.children,O=0,o=g.length;O<o;O++)b=g[O],this.writeChildNode(b,m,c+1);m.state=s.CloseTag,this.stream.write("]")}return m.state=s.CloseTag,this.stream.write(m.spaceBeforeSlash+">"),this.stream.write(this.endline(a,m,c)),m.state=s.None,this.closeNode(a,m,c)}element(a,m,c){var b,O,o,g,T,N,C,x,X,R,n,r,d,t,l,f;if(c||(c=0),this.openNode(a,m,c),m.state=s.OpenTag,n=this.indent(a,m,c)+"<"+a.name,m.pretty&&m.width>0){C=n.length,d=a.attribs;for(X in d)i.call(d,X)&&(b=d[X],r=this.attribute(b,m,c),O=r.length,C+O>m.width?(f=this.indent(a,m,c+1)+r,n+=this.endline(a,m,c)+f,C=f.length):(f=" "+r,n+=f,C+=f.length))}else{t=a.attribs;for(X in t)i.call(t,X)&&(b=t[X],n+=this.attribute(b,m,c))}if(this.stream.write(n),g=a.children.length,T=g===0?null:a.children[0],g===0||a.children.every(function(e){return(e.type===h.Text||e.type===h.Raw||e.type===h.CData)&&e.value===""}))m.allowEmpty?(this.stream.write(">"),m.state=s.CloseTag,this.stream.write("</"+a.name+">")):(m.state=s.CloseTag,this.stream.write(m.spaceBeforeSlash+"/>"));else if(m.pretty&&g===1&&(T.type===h.Text||T.type===h.Raw||T.type===h.CData)&&T.value!=null)this.stream.write(">"),m.state=s.InsideTag,m.suppressPrettyCount++,R=!0,this.writeChildNode(T,m,c+1),m.suppressPrettyCount--,R=!1,m.state=s.CloseTag,this.stream.write("</"+a.name+">");else{for(this.stream.write(">"+this.endline(a,m,c)),m.state=s.InsideTag,l=a.children,N=0,x=l.length;N<x;N++)o=l[N],this.writeChildNode(o,m,c+1);m.state=s.CloseTag,this.stream.write(this.indent(a,m,c)+"</"+a.name+">")}return this.stream.write(this.endline(a,m,c)),m.state=s.None,this.closeNode(a,m,c)}processingInstruction(a,m,c){return this.stream.write(super.processingInstruction(a,m,c))}raw(a,m,c){return this.stream.write(super.raw(a,m,c))}text(a,m,c){return this.stream.write(super.text(a,m,c))}dtdAttList(a,m,c){return this.stream.write(super.dtdAttList(a,m,c))}dtdElement(a,m,c){return this.stream.write(super.dtdElement(a,m,c))}dtdEntity(a,m,c){return this.stream.write(super.dtdEntity(a,m,c))}dtdNotation(a,m,c){return this.stream.write(super.dtdNotation(a,m,c))}}}).call(Ae)});var bt=P((Re,V)=>{(function(){var h,s,D,w,i,p,a,m,c;({assign:m,isFunction:c}=S()),D=pt(),w=Dt(),i=je(),a=ut(),p=Se(),h=q(),s=_(),V.exports.create=function(b,O,o,g){var T,N;if(b==null)throw new Error("Root element needs a name.");return g=m({},O,o,g),T=new w(g),N=T.element(b),g.headless||(T.declaration(g),(g.pubID!=null||g.sysID!=null)&&T.dtd(g)),N},V.exports.begin=function(b,O,o){return c(b)&&([O,o]=[b,O],b={}),O?new i(b,O,o):new w(b)},V.exports.stringWriter=function(b){return new a(b)},V.exports.streamWriter=function(b,O){return new p(b,O)},V.exports.implementation=new D,V.exports.nodeType=h,V.exports.writerState=s}).call(Re)});var U={};_e(U,{default:()=>ze});var Ye=Ot(bt());K(U,Ot(bt()));var{default:Be,...$e}=Ye,ze=Be!==void 0?Be:$e;export{ze as default};
//# sourceMappingURL=xmlbuilder.bundle.mjs.map